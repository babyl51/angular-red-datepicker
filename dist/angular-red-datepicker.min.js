/*!
 * angular-red-datepicker
 * https://github.com/johnnyswan/angular-red-datepicker
 * Red Swan
 * Version: 0.0.1 - 2016-10-27T19:41:04.801Z
 * License: MIT
 */
!function(){"use strict";function t(){return{restrict:"E",templateUrl:"angular-red-datepicker.html",scope:{locale:"@locale",earliestDate:"@earliestDate",latestDate:"@latestDate",listShow:"@listShow",output:"=output"},controller:a,controllerAs:"calendar",bindToController:!0}}function a(t,a,e){function n(t,a){return 1==t&&a.push(a.splice(0,1)[0]),a}function r(t){t.fade&&!t.afterCurrentNextMonth?t.beforeMonth?m.monthChange(m.month.id,"left"):t.nextMonth&&m.monthChange(m.month.id,"right"):m.daySelect(t)}function d(t){t.afterCurrentNextMonth||t.afterCurrent||(t.active=!t.active,2==m.selectedDays.length?(e.forEach(m.selectedDays,function(t){t.active=!1}),e.remove(m.selectedDays),m.selectedDays.push(t)):1==m.selectedDays.length?(m.selectedDays.push(t),m.activeRange(m.selectedDays)):m.selectedDays.push(t))}function o(t){a(t[0].date).isBefore(t[1].date)?(m.startSelection=a(t[0].date).toArray(),m.endSelection=a(t[1].date).toArray()):(m.startSelection=a(t[1].date).toArray(),m.endSelection=a(t[0].date).toArray()),m.inputStart=a(m.startSelection).format("L"),m.inputEnd=a(m.endSelection).format("L"),m.output={start:m.inputStart,end:m.inputEnd},m.monthShow=new m.calendarArray(a([m.year,m.month.id-1,1]))}function s(t,e){var n=a([m.year,t-1,1]);"left"==e?(1==m.month.id&&(m.year=n.subtract(1,"year").format("YYYY")),m.month.name=n.subtract(1,"month").format("MMMM"),m.month.id=a().month(m.month.name).format("M"),m.monthShow=new m.calendarArray(a([m.year,m.month.id-1,1]))):"right"==e&&(12==m.month.id&&(m.year=n.add(1,"year").format("YYYY")),m.month.name=n.add(1,"month").format("MMMM"),m.month.id=a().month(m.month.name).format("M"),m.monthShow=new m.calendarArray(a([m.year,m.month.id-1,1])))}function l(t){var e=a([m.year,m.month.id-1,1]);"left"==t?(m.year=e.subtract(1,"year").format("YYYY"),m.monthShow=new m.calendarArray(a([m.year,m.month.id-1,1]))):"right"==t&&(m.year=e.add(1,"year").format("YYYY"),m.monthShow=new m.calendarArray(a([m.year,m.month.id-1,1])))}function c(t){m.beforeMonthShow=[],m.currentMonthShow=[],m.nextMonthShow=[],m.currentMonth=a(t).startOf("month"),m.beforeMonth=a(t).subtract(1,"month").endOf("month").startOf("day"),m.nextMonth=a(t).add(1,"month").startOf("month"),m.startDay=a(t).startOf("month").format("d"),m.endDay=a(t).endOf("month").format("d");var n="";n=0==m.weekStartDay?Number(m.startDay)?1==m.startDay?8:m.startDay:7:Number(m.startDay)?1==m.startDay?7:m.startDay-1:6,e.times(n,function(t){var a=m.beforeMonth,e={str:+a.format("D"),current:a.isSame(m.today.date),date:a.toArray(),fade:!0,active:!1,beforeMonth:!0,selected:a.isBetween(m.startSelection,m.endSelection,null,"[]")};m.beforeMonthShow.push(e),a.subtract(1,"day")}),e.times(m.currentMonth.daysInMonth(),function(t){var a=m.currentMonth,e={str:+a.format("D"),current:a.isSame(m.today.date),date:a.toArray(),fade:!1,afterCurrent:a.isAfter(m.today.date),active:!1,selected:a.isBetween(m.startSelection,m.endSelection,null,"[]")};m.currentMonthShow.push(e),a.add(1,"day")}),e.reverse(m.beforeMonthShow);var r="";return r=0==m.weekStartDay?Number(m.endDay)?6==m.endDay?7:6-m.endDay:6:Number(m.endDay)?6==m.endDay?1:7-m.endDay:7,e.times(r,function(t){var a=m.nextMonth,e={str:+a.format("D"),current:a.isSame(m.today.date),fade:!0,date:a.toArray(),afterCurrentNextMonth:a.isAfter(m.today.date),active:!1,nextMonth:!0,selected:a.isBetween(m.startSelection,m.endSelection,null,"[]")};m.nextMonthShow.push(e),a.add(1,"day")}),m.beforeMonthShow.concat(m.currentMonthShow,m.nextMonthShow)}function i(t){m.startSelection=a(new Date(t.start)),m.endSelection=a(new Date(t.end)),m.inputStart=t.start,m.inputEnd=t.end,m.output={start:m.inputStart,end:m.inputEnd},m.monthShow=new m.calendarArray(m.today.date)}function h(t){"calendarShow"==t?(m.calendarShow=!m.calendarShow,m.rangeShow=!1):"rangeShow"==t&&(m.rangeShow=!m.rangeShow,m.calendarShow=!1)}var m=this;m.rangeShow=!1,m.calendarShow=!1,m.locale=m.locale&&""!=m.locale?m.locale:"en",a.locale(m.locale),m.localeInfo=a.localeData(),m.weekStartDay=m.localeInfo._week.dow,m.earliestDate=m.earliestDate&&""!==m.earliestDate?m.earliestDate:"January 01, 1990",m.latestDate=m.latestDate&&""!==m.latestDate?m.latestDate:"December 31, 2030",m.earliest_date=a(new Date(m.earliestDate)).startOf("day"),m.latest_date=a(new Date(m.latestDate)).startOf("day");var y=a(new Date);m.todayForFront=y.format("DD"),m.today={date:y.startOf("day"),year:y.format("YYYY"),month:y.format("M")},m.month={name:y.format("MMMM"),id:y.format("M")},m.year=y.year(),m.selectedDays=[],m.endSelection=y.startOf("day").toArray(),m.startSelection=a(m.endSelection).subtract(6,"day").startOf("day").toArray(),m.inputStart=a(m.startSelection).format("L"),m.inputEnd=a(m.endSelection).format("L"),m.output={start:m.inputStart,end:m.inputEnd},m.listShow?m.list=[{label:"Last Week",start:a(m.today.date).subtract(6,"days").format("L"),end:m.today.date.format("L")},{label:"Last 15 days",start:a(m.today.date).subtract(14,"days").format("L"),end:m.today.date.format("L")},{label:"Last 30 days",start:a(m.today.date).subtract(29,"days").format("L"),end:m.today.date.format("L")},{label:"Last month",start:a(m.today.date).subtract(1,"month").startOf("month").format("L"),end:a(m.today.date).subtract(1,"month").endOf("month").startOf("day").format("L")},{label:"Last 3 months",start:a(m.today.date).subtract(3,"month").startOf("month").format("L"),end:a(m.today.date).subtract(1,"month").endOf("month").startOf("day").format("L")},{label:"Last 6 months",start:a(m.today.date).subtract(6,"month").startOf("month").format("L"),end:a(m.today.date).subtract(1,"month").endOf("month").startOf("day").format("L")},{label:"Last year",start:a(m.today.date).subtract(12,"month").startOf("month").format("L"),end:a(m.today.date).subtract(1,"month").endOf("month").startOf("day").format("L")},{label:"All time",start:m.earliest_date.format("L"),end:m.latest_date.format("L")}]:m.list="",m.getDay=r,m.daySelect=d,m.activeRange=o,m.monthChange=s,m.yearChange=l,m.calendarArray=c,m.listSelected=i,m.showPopup=h,m.getDaysNames=n,m.days=m.getDaysNames(m.weekStartDay,m.localeInfo._weekdaysMin),m.monthShow=new m.calendarArray(m.today.date)}angular.module("redDatepickerModule",[]).constant("moment",moment).constant("_",window._).directive("redDatepicker",t),a.$inject=["$scope","moment","_"]}(),angular.module("redDatepickerModule").run(["$templateCache",function(t){t.put("angular-red-datepicker.html",'<div class="calendar" ng-class="{\'calendar-with-range\': calendar.listShow, \'calendar-with-out-range\': !calendar.listShow}"><div class="output"><div class="output-inputs"><div class="output-inputs-start"><input id="date-start" type="text" placeholder="" ng-model="calendar.inputStart" maxlength="10"></div><div class="output-inputs-separator">&mdash;</div><div class="output-inputs-end"><input id="date-end" type="text" placeholder="" ng-model="calendar.inputEnd" maxlength="10"></div></div><div class="output-btns"><div id="calendar-list-btn" ng-click="calendar.showPopup(\'calendarShow\')"><span id="calendar-list-icon">{{calendar.todayForFront}}</span></div><div ng-if="calendar.listShow" id="range-list-btn" ng-click="calendar.showPopup(\'rangeShow\')"></div></div></div><div ng-mouseleave="calendar.calendarShow = false" target="calendar.calendarShow" class="calendar-box calendar-box-show" ng-show="calendar.calendarShow"><div class="switchers"><div class="month"><i class="left" aria-hidden="true" ng-click="calendar.monthChange(calendar.month.id, \'left\')"></i> <span>{{calendar.month.name}}</span> <i class="right" aria-hidden="true" ng-click="calendar.monthChange(calendar.month.id, \'right\')" ng-hide="calendar.today.month == calendar.month.id"></i></div><div class="year"><i class="left" aria-hidden="true" ng-click="calendar.yearChange(\'left\')"></i> <span>{{calendar.year}}</span> <i class="right" aria-hidden="true" ng-click="calendar.yearChange(\'right\')" ng-hide="calendar.today.year == calendar.year"></i></div></div><div class="calendar-container"><ul class="days-name"><li ng-repeat="dayName in calendar.days track by $index">{{dayName}}</li></ul><ul class="calendar-body"><li class="day" ng-repeat="day in calendar.monthShow" ng-class="{ \'day__fade\': day.fade, \'day__current\': day.current, \'day__cantUse\': day.afterCurrent, \'day__fadeNonClick\': day.afterCurrentNextMonth, \'day__active\': day.active, \'day__selected\': day.selected, }" ng-click="calendar.getDay(day)">{{day.str}}</li></ul></div></div><div ng-mouseleave="calendar.rangeShow = false" target="calendar.rangeShow" class="range-list range-list-show" ng-show="calendar.rangeShow"><ul><li ng-repeat="item in calendar.list" ng-click="calendar.listSelected(item)"><span class="item-name">{{item.label}}</span> <span class="item-date-start">{{item.start}}</span> <span class="item-date-separator">&mdash;</span> <span class="item-date-end">{{item.end}}</span></li></ul></div></div>')}]);