<!DOCTYPE html>
<meta name="robots" content="noindex">
<html ng-app="calendarApp">

<head>

    <!--TODO look to ng-pattern-->
    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet"
          type="text/css"/>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.13.1/lodash.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment-with-locales.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/locale/ru.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular.min.js"></script>

    <link rel="stylesheet" href="styles.css">
    <script src="core.js"></script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Calendar</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans&subset=latin,cyrillic' rel='stylesheet'
          type='text/css'>
</head>

<body>
<calendar></calendar>


<script type="text/ng-template" id="calendar.html">
    <div class="calendar">
        <div class="inputs" ng-if="calendar.startSelection">
            <div>
                {{calendar.startSelection.date}} - {{calendar.startSelection.months +1}} - {{calendar.startSelection.years}}
            </div>
            <div>
                {{calendar.endSelection.date}} - {{calendar.endSelection.months +1}} - {{calendar.endSelection.years}}
            </div>
        </div>

        <div class="range-btn" ng-click="fade = !fade ">Click</div>
        <div class="range">
            <div class="list" ng-class="{'list-show': fade}">
                <ul>
                    <li ng-repeat="item in calendar.list" ng-click="calendar.listSelected(item)">{{item.label}}</li>
                </ul>
            </div>
        </div>
        <div class="switchers">
            <div class="month">
                <i class="fa fa-chevron-left" aria-hidden="true"
                   ng-click="calendar.monthChange(calendar.month.id, 'left')"></i>
                <span>{{calendar.month.name}}</span>
                <i class="fa fa-chevron-right" aria-hidden="true"
                   ng-click="calendar.monthChange(calendar.month.id, 'right')"
                   ng-hide="calendar.today.month == calendar.month.id"
                ></i>
            </div>
            <div class="year">
                <i class="fa fa-chevron-left" aria-hidden="true" ng-click="calendar.yearChange('left')"></i>
                <span>{{calendar.year}}</span>
                <i class="fa fa-chevron-right" aria-hidden="true"
                   ng-click="calendar.yearChange('right')"
                   ng-hide="calendar.today.year == calendar.year"
                ></i>
            </div>
        </div>


        <div class="calendar-container">
            <ul class="days-name">
                <li ng-repeat="dayName in calendar.days">{{dayName}}</li>
            </ul>
            <ul class="calendar-box">
                <li class="day"
                    ng-repeat="day in calendar.monthShow"
                    ng-class="{
                    fade: day.fade,
                    current: day.current,
                    cantUse: day.afterCurrent,
                    fadeNonClick: day.afterCurrentNextMonth,
                    active: day.active,
                    isBetween: day.isBetween,
                    start: day.start,
                    end: day.end
                    }"
                    ng-click="calendar.getDay(day)"
                >
                    {{day.str}}
                </li>
            </ul>
        </div>
    </div>

</script>

</body>

</html>